(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{531:function(e,t,a){e.exports=a(975)},536:function(e,t,a){},910:function(e,t,a){},942:function(e,t){},950:function(e,t){},952:function(e,t){},975:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a.n(n),c=a(103),i=a.n(c),o=(a(536),a(57)),s=a(82),u=Object(s.withStyles)(function(e){return{list:{color:e.palette.secondary.main,height:"100%",listStyle:"none",overflow:"scroll"},wrapper:{maxHeight:"200px"}}})(function(e){var t=e.classes,a=e.markers;return a&&0!==a.length?r.a.createElement("div",{className:t.wrapper},r.a.createElement("ul",{className:t.list},a&&a.map(function(e){return r.a.createElement("li",{key:e.message},e.startLineNumber,":",e.startColumn," - ",e.message)}))):null}),l=a(80),p=a(125),m=a.n(p),d=a(514),h=a.n(d),f=a(515),b=(a(910),a(247)),g=a(248),O=a(252),j=a(250),v=a(253),y=a(51),E=a(517),w=a.n(E),S=a(516),k=a.n(S),x=a(519),C=a.n(x),M=a(518),B=a.n(M),N=a(530),I=[{name:"api-with-examples",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/api-with-examples-openrpc.json"},{name:"link-example",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/link-example-openrpc.json"},{name:"params-by-name-petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/params-by-name-petstore-openrpc.json"},{name:"petstore-expanded",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-expanded-openrpc.json"},{name:"petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-openrpc.json"},{name:"simple-math",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/simple-math-openrpc.json"}];var V,K=Object(s.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},appBar:{}}})(function(e){var t=e.uiSchema,a=e.searchBarUrl,n=e.onChangeUrl;return r.a.createElement(N.a,{initialInputValue:a,onInputValueChange:n,id:"downshift"},function(e){var a,n=e.getInputProps,c=e.getItemProps,i=(e.getLabelProps,e.getMenuProps),o=e.isOpen,s=e.inputValue,u=e.highlightedIndex,l=(e.selectedItem,e.openMenu),p=e.clearSelection;return r.a.createElement("div",null,r.a.createElement(y.InputBase,Object.assign({},n({onChange:function(e){""===e.target.value&&p()}}),{onFocus:function(e){return l()},placeholder:t&&t.appBar["ui:inputPlaceholder"],style:{width:"100%"}})),r.a.createElement("div",Object.assign({},i(),{style:{position:"absolute",zIndex:1}}),o?r.a.createElement(y.Paper,{style:{maxWidth:"640px"}},(a=s,a?I.filter(function(e){return e.name.includes(a)||e.url.includes(a)}):I).map(function(e,t){var a=u===t;return r.a.createElement(y.MenuItem,Object.assign({},c({item:e.url}),{key:e.url,selected:a,component:"div",style:{fontWeight:a?500:400}}),r.a.createElement(y.Grid,{container:!0,spacing:0},r.a.createElement(y.Grid,{item:!0,xs:12},r.a.createElement(y.Typography,{variant:"subheading"},e.name)),r.a.createElement(y.Grid,{item:!0,xs:12},r.a.createElement(y.Typography,{variant:"caption"},e.url))))})):null))})}),P=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uiSchema,a=e.classes,n=e.onSplitViewChange,c=e.onDarkModeChange;return r.a.createElement(y.AppBar,{position:"static",color:"default",elevation:0,className:a.appBar},r.a.createElement(y.Toolbar,null,r.a.createElement(y.Grid,{alignItems:"center",container:!0,spacing:24},r.a.createElement(y.Grid,{item:!0,xs:6,sm:3,direction:"row",container:!0},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:logoUrl"]&&r.a.createElement(y.Grid,null,r.a.createElement("img",{alt:"playground-title",height:"30",src:this.props.uiSchema.appBar["ui:logoUrl"]})),r.a.createElement(y.Grid,null,r.a.createElement(y.Typography,{className:a.title,variant:"h6"},t&&t.appBar["ui:title"]))),r.a.createElement(y.Hidden,{only:"xs"},r.a.createElement(y.Grid,{item:!0,sm:7},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:input"]&&r.a.createElement(y.Paper,{style:{background:"rgba(0, 0, 0, 0.1)",padding:"0px 10px 0px 10px",width:"100%"},elevation:0},r.a.createElement(K,{searchBarUrl:this.props.searchBarUrl,onChangeUrl:this.props.onChangeUrl,uiSchema:t})))),r.a.createElement(y.Grid,{item:!0,xs:6,sm:2,container:!0,justify:"flex-end"},r.a.createElement(y.IconButton,null,t&&t.appBar["ui:splitView"]?r.a.createElement(k.a,{onClick:function(){return n(!1)}}):r.a.createElement(w.a,{onClick:function(){return n(!0)}})),r.a.createElement(y.IconButton,null,t&&t.appBar["ui:darkMode"]?r.a.createElement(B.a,{onClick:function(){return c(!1)}}):r.a.createElement(C.a,{onClick:function(){return c(!0)}}))))))}}]),t}(n.Component),T=Object(s.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},appBar:{}}})(P),U=a(190),G=a(520),z=a(28),L=a.n(z),D=a(182),J=a.n(D),R=a(521),A=a.n(R),F=a(524),W=a.n(F),Y=a(523),_=a.n(Y),H=a(376),$=a.n(H),q=a(522),Q=a.n(q),X=a(373),Z=a.n(X),ee=a(374),te=a.n(ee),ae={success:A.a,warning:Q.a,error:_.a,info:$.a,debug:$.a};!function(e){e.error="error",e.warn="warning",e.info="info",e.success="success",e.debug="debug"}(V||(V={}));var ne=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.message,c=e.onClose,i=e.variant,o=Object(G.a)(e,["classes","className","message","onClose","variant"]),s=ae[i];return r.a.createElement(y.SnackbarContent,Object.assign({className:L()(t[i],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(s,{className:L()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(J.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:c},r.a.createElement(W.a,{className:t.icon}))]},o))}}]),t}(r.a.Component),re=Object(s.withStyles)(function(e){return{success:{color:Z.a[600]},error:{backgroundColor:e.palette.error.dark},info:{color:e.palette.primary.dark},debug:{color:e.palette.secondary.dark},warning:{color:te.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"},close:{padding:e.spacing.unit/2},margin:{margin:e.spacing.unit}}})(ne),ce=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.notification,n=e.close;return Object(p.isEmpty)(a)?null:r.a.createElement(y.Snackbar,{open:!0,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(re,{onClose:n,variant:a.type,message:r.a.createElement("span",null,a.message),className:t.margin}))}}]),t}(n.Component),ie=Object(s.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},close:{padding:e.spacing.unit/2},margin:{margin:e.spacing.unit}}})(ce),oe=Object(s.createMuiTheme)({overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}}}),se=Object(s.createMuiTheme)({palette:{type:"dark",background:{default:"#212121",paper:"black"}},overrides:{MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:"#fff"}}}}),ue=a(525),le=function(e){return!1===e.split?r.a.createElement("div",{className:"docs",key:2},e.right):r.a.createElement(ue.a,{split:"vertical",minSize:100,maxSize:-100,defaultSize:window.innerWidth/2,onChange:function(t){e.onChange&&e.onChange(t)}},r.a.createElement("div",{key:1,style:{display:"flex",flexDirection:"column",height:"100%"}},e.left),r.a.createElement("div",{className:"docs",key:2},e.right))},pe=a(529),me=function(e,t,a,r){var c=Object(n.useState)(),i=Object(o.a)(c,2),s=i[0],u=i[1],p=function(){s&&s.layout()};return Object(n.useEffect)(function(){var n;if(e&&e.current){var r=l.editor.create(e.current,{theme:t?"vs-dark":"vs"});u(r),n=r.onDidChangeModelContent(function(e){if(a){var t=r.getValue();a(e,t)}}),window.addEventListener("resize",p)}return function(){window.removeEventListener("resize",p),s&&s.dispose(),n&&n.dispose()}},Object(pe.a)(r||[])),[s,p]},de=function(e,t,a){var r=Object(n.useState)(),c=Object(o.a)(r,2),i=c[0],s=c[1],u=Object(n.useState)([4,13,4,13]),p=Object(o.a)(u,2),m=p[0],d=p[1];return Object(n.useEffect)(function(){if(t){var n=l.editor.getModels()[0];n&&n.dispose();var r=l.Uri.parse("inmemory:/".concat(Math.random(),"/model/userSpec.json")),c=l.editor.createModel(e||"","json",r);l.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[{fileMatch:["*"],schema:a,uri:r.toString()}],validate:!0}),c.updateOptions({tabSize:2}),s(c),t.setModel(c);var u=Object(o.a)(m,4),p=u[0],d=u[1],h=u[2],f=u[3];t.setSelection(new l.Selection(p,d,h,f)),t.focus()}return function(){i&&i.dispose()}},[t,a]),[i,d]},he=a(526),fe=a.n(he),be=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],c=a[1];return[r,function(e){var t;try{t=JSON.parse(e)}catch(a){}t&&fe.a.dereference(t).then(function(t){c(t),m.a.defer(function(){return window.localStorage.setItem("schema",e)})})}]},ge=a(251),Oe=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],c=a[1];return[r,function(e){var t=e.section,a=e.key,n=e.value;c(Object(U.a)({},r,Object(ge.a)({},t,Object(U.a)({},r.appBar,Object(ge.a)({},a,n)))))}]};var je=function(){var e=Object(n.useState)(function(){return window.localStorage.getItem("schema")}),t=Object(o.a)(e,2);return[t[0],t[1]]},ve=a(225),ye=a.n(ve),Ee=a(294),we=function(){var e=Object(Ee.a)(ye.a.mark(function e(t){var a;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(404!==(a=e.sent).status){e.next=5;break}throw new Error("404: Not Found");case 5:return e.abrupt("return",a.text());case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Se=0,ke=function(){var e=Object(Ee.a)(ye.a.mark(function e(t){var a;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{body:JSON.stringify({id:Se++,jsonrpc:"2.0",method:"rpc.discover",params:[]}),headers:{"Content-Type":"application/json"},method:"POST"});case 2:if(404!==(a=e.sent).status){e.next=5;break}throw new Error("404: Not Found");case 5:return e.abrupt("return",a.text());case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),xe=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(),s=Object(o.a)(i,2),u=s[0],l=s[1],m=Object(n.useState)(),d=Object(o.a)(m,2),h=d[0],f=d[1];return Object(n.useEffect)(function(){r&&(Object(p.isEmpty)(r)||(r.match(/\.json$/)?we(r).then(l).catch(function(e){var t="Error fetching schema for: ".concat(r);console.error(t,e),f(t)}):ke(r).then(l).catch(function(e){var t="Error fetching rpc.discover for: ".concat(r);console.error(t,e),f(t)})))},[r]),[r,{results:u,error:h},c]},Ce=a(510).initVimMode,Me=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){if(e)return e.addAction({id:"vim-mode",label:"Vim Mode",keybindings:[l.KeyMod.chord(l.KeyMod.CtrlCmd|l.KeyCode.KEY_K,l.KeyMod.CtrlCmd|l.KeyCode.KEY_V)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){r&&r.dispose(),c(Ce(e))}}),function(){r&&r.dispose()}},[e]),[e,r]},Be=a(527),Ne=a.n(Be),Ie=(a(510).initVimMode,function(e){var t=Object(n.useState)(Ne.a),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){e&&e.addAction({id:"replace-meta-schema",label:"Replace Meta Schema",keybindings:[l.KeyMod.chord(l.KeyMod.CtrlCmd|l.KeyCode.KEY_K,l.KeyMod.CtrlCmd|l.KeyCode.KEY_R)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var e=window.prompt("Paste schema to replace current meta schema","{}");e&&c(JSON.parse(e))}})},[e]),[r]}),Ve=a(528),Ke=function(){var e=Object(n.useState)(Ve.parse(window.location.search,{ignoreQueryPrefix:!0,depth:100,decoder:function(e){return/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}}));return[Object(o.a)(e,1)[0]]},Pe=function(){var e=Ke(),t=Object(o.a)(e,1)[0],a=je(),c=Object(o.a)(a,2),i=c[0],p=(c[1],Object(n.useState)([])),d=Object(o.a)(p,2),b=d[0],g=d[1],O=xe(t.schemaUrl),j=Object(o.a)(O,3),v=j[0],E=j[1],w=E.results,S=E.error,k=j[2],x=Object(n.useState)(),C=Object(o.a)(x,2),M=C[0],B=C[1];Object(f.a)(function(){g(l.editor.getModelMarkers({}))},5e3),Object(n.useEffect)(function(){w&&$&&($.setValue(w),z(w))},[w]),Object(n.useEffect)(function(){S&&B({type:V.error,message:S})},[S]);var N,I,K=be(i?JSON.parse(i):null),P=Object(o.a)(K,2),G=P[0],z=P[1],L=Object(n.useState)({theme:"summerfruit:inverted",collapseStringsAfterLength:25,displayDataTypes:!1,displayObjectSize:!1,indentWidth:2,name:!1}),D=Object(o.a)(L,2),J=D[0],R=(D[1],Oe((N={appBar:{"ui:input":!0,"ui:inputPlaceholder":"Enter OpenRPC Document Url or rpc.discover Endpoint","ui:logoUrl":"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png","ui:splitView":!0,"ui:darkMode":!1,"ui:title":"OpenRPC Playground"},methods:{"ui:defaultExpanded":!1},params:{"ui:defaultExpanded":!1}},I=t.uiSchema,N&&I?{appBar:Object(U.a)({},N.appBar,I.appBar||{}),methods:Object(U.a)({},N.methods,I.methods||{}),params:Object(U.a)({},N.params,I.params||{})}:N||I))),A=Object(o.a)(R,2),F=A[0],W=A[1],Y=Object(n.useRef)(null),_=me(Y,F.appBar["ui:darkMode"],m.a.debounce(function(e,t){z(t);var a=e.changes[0].range;te([a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn])},500),[F]),H=Object(o.a)(_,2),$=H[0],q=H[1],Q=Ie($),X=Object(o.a)(Q,1)[0],Z=de(G?JSON.stringify(G,null,2):i,$,X),ee=Object(o.a)(Z,2),te=(ee[0],ee[1]),ae=Me($);Object(o.a)(ae,1)[0];return r.a.createElement(s.MuiThemeProvider,{theme:F.appBar["ui:darkMode"]?se:oe},r.a.createElement(y.CssBaseline,null),r.a.createElement(T,{searchBarUrl:v,uiSchema:F,onSplitViewChange:function(e){W({value:e,key:"ui:splitView",section:"appBar"})},onDarkModeChange:function(e){W({value:e,key:"ui:darkMode",section:"appBar"}),$&&l.editor.setTheme(e?"vs-dark":"vs")},onChangeUrl:m.a.debounce(k,500)}),r.a.createElement(le,{split:F.appBar["ui:splitView"],onChange:q,left:r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{markers:b}),r.a.createElement("div",{key:"editor",style:{height:"100%"},ref:Y})),right:r.a.createElement(h.a,{schema:G,uiSchema:F,reactJsonOptions:J})}),r.a.createElement(ie,{close:function(){return B({})},notification:M}))};i.a.render(r.a.createElement(Pe,null),document.getElementById("root"))}},[[531,2,3]]]);
//# sourceMappingURL=main.b9ea74d3.chunk.js.map